/* ============================================================
   NEXUS DESKTOP THEME (styles.css)
   ============================================================ */
*, *::before, *::after {
  box-sizing: border-box; 
}

/* ================= LOADING SCREEN ================= */
#appLoader {
  position: fixed; inset: 0; 
  background: radial-gradient(circle at 50% 0%, #23094b, #05020a);
  z-index: 99999;
  display: flex; align-items: center; justify-content: center;
  transition: opacity 0.5s ease, visibility 0.5s ease;
}

#appLoader.hidden {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.loader-content {
  text-align: center;
  display: flex; flex-direction: column; align-items: center; gap: 20px;
}

.loader-icon {
  width: 80px; height: 80px;
  animation: pulseGlow 2s infinite ease-in-out;
  filter: drop-shadow(0 0 15px var(--accent));
}

.loader-text {
  font-family: "Cinzel", serif;
  font-size: 18px;
  color: var(--text);
  letter-spacing: 2px;
  text-transform: uppercase;
}

.loader-bar {
  width: 200px; height: 4px; background: rgba(255,255,255,0.1);
  border-radius: 2px; overflow: hidden;
  position: relative;
}

.loader-progress {
  position: absolute; top: 0; left: 0; bottom: 0; width: 50%;
  background: var(--accent);
  animation: loaderScan 1.5s infinite linear;
}

@keyframes loaderScan {
  0% { left: -50%; }
  100% { left: 100%; }
}

:root {
  --bg: radial-gradient(circle at 50% 0%, #3d0066, #0b0014 80%);
  --panel-bg: rgba(40, 0, 60, 0.45);
  --panel-border: rgba(255,150,255,0.20);
  --text: #f4eaff;
  --text-muted: #cdb8d9;
  --accent: #d57bff;
  --accent2: #9d4edd;
  --bright-1: #e1a6ff;
  --bright-2: #b066ff;
  --bright-3: #7a1fff;
  --accent-glow: rgba(197, 140, 255, 0.65);
  
  --mod-glass-bg: radial-gradient(circle at top left, rgba(255,255,255,0.12), rgba(40,0,70,0.9) 60%);
  --mod-glass-border: rgba(180, 110, 255, 0.35);
  --mod-glass-shadow: 0 0 25px rgba(197, 140, 255, 0.6), 0 0 60px rgba(80,0,140,0.7);
  
  --danger: #ff4b91;
  --warning: #ffd86b;
  --success: #72ffb0;
}

html, body {
  margin: 0;
  padding: 0;
  font-family: "Cinzel", serif;
  background: var(--bg);
  color: var(--text);
  overflow: hidden;
  height: 100%;
}

.adminOnly { display: none !important; }
body.is-owner .adminOnly { display: flex !important; }

.hidden { display: none !important; }

.wrapper {
  width: calc(100% - 48px);
  margin: 24px auto;
  padding: 24px;
  border-radius: 10px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 0 60px rgba(150,0,255,0.3);
  position: relative;
  height: calc(100vh - 48px);
  display: flex;
  flex-direction: column;
}

/* ================= HEADER LAYOUT ================= */
.headerRow {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 30px;
  flex-shrink: 0; 
  min-height: 60px;
  padding: 0 10px;
}

.header-left-group, .header-right-group {
    display: flex; align-items: center; gap: 15px; z-index: 30;
}

.header-user-info {
  display: flex; flex-direction: column; justify-content: center; align-items: flex-start; gap: 4px; 
}

/* --- CRYSTAL DISPLAY (FIXED) --- */
#headerCrystalDisplay {
  display: flex; 
  flex-direction: row-reverse; 
  align-items: center; 
  gap: 8px;
  padding: 0; border: none; background: transparent; 
  margin-top: 2px;
  min-height: 24px;
}
#headerCrystalDisplay img { 
  height: 24px; width: auto; filter: drop-shadow(0 0 6px rgba(180,80,255,0.7)); 
}
#headerPoints { 
  font-size: 16px; color: var(--accent); white-space: nowrap; font-weight: 500; letter-spacing: 0.5px;
}

/* --- VIEW TOGGLE --- */
.view-toggle-group {
    position: absolute; left: 50%; transform: translateX(-50%); top: 10px;
    display: flex; gap: 0;
    background: rgba(0,0,0,0.4);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 999px;
    padding: 4px;
    z-index: 20;
}

.view-toggle-btn {
    background: transparent; border: none; color: var(--text-muted);
    font-family: "Cinzel", serif; font-size: 14px; padding: 6px 20px;
    border-radius: 999px; cursor: pointer; transition: all 0.2s ease;
    display: flex; align-items: center; gap: 6px;
}

.view-toggle-btn.active {
    background: var(--accent); color: #000; font-weight: bold;
    box-shadow: 0 0 15px rgba(213, 123, 255, 0.4);
}

.view-toggle-btn .indicator { color: #ff4444; font-size: 10px; animation: pulseRed 2s infinite; }
.view-toggle-btn.active .indicator { color: #000; animation: none; }
@keyframes pulseRed { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

#avatarContainer { 
  min-width: 52px; min-height: 52px; display: flex; align-items: center; justify-content: center; 
}
.avatar {
  width: 52px; height: 52px; border-radius: 50%; cursor: pointer;
  border: 2px solid rgba(255,255,255,0.25);
  box-shadow: 0 0 14px rgba(180,60,255,0.5); transition: 0.2s;
}
.avatar:hover { transform: scale(1.05); }

#loginArea { display: flex; justify-content: flex-start; align-items: center; margin: 0; z-index: 100; min-height: 20px; }
#welcomeText {
  font-size: 18px; color: #fff; text-shadow: 0 0 10px rgba(213, 123, 255, 0.5);
  font-family: "Cinzel", serif; text-transform: uppercase; letter-spacing: 1px; font-weight: bold;
}
#crystalLoginBtn {
  background: linear-gradient(135deg, rgba(60, 20, 90, 0.9), rgba(20, 0, 30, 0.9));
  border: 1px solid var(--accent); color: #fff; padding: 6px 16px;
  font-family: "Cinzel", serif; font-size: 14px; border-radius: 999px; cursor: pointer;
  box-shadow: 0 0 10px rgba(213, 123, 255, 0.2); transition: all 0.2s ease;
}

/* ================= DESKTOP GRID SYSTEM ================= */
.grid {
  display: grid; gap: 15px; 
  /* Large Desktop Default */
  grid-template-columns: 550px 1fr 550px; 
  grid-template-areas: "leftCol centerCol rightCol"; 
  flex: 1; min-height: 0; overflow: hidden; 
}

.col-left { grid-area: leftCol; display: flex; flex-direction: column; gap: 15px; height: 100%; min-height: 0; overflow: hidden; }
.col-center { grid-area: centerCol; display: flex; flex-direction: column; gap: 15px; height: 100%; min-height: 0; overflow: hidden; }
.col-right { grid-area: rightCol; display: flex; flex-direction: column; gap: 15px; height: 100%; min-height: 0; overflow: hidden; }

/* Video View Column (Spans left + center) */
.col-video {
    grid-column: 1 / 3; 
    display: flex; flex-direction: column; gap: 15px;
    height: 100%; min-height: 0; overflow-y: auto;
}

.video-container { 
    position: relative; 
    width: 100%; 
    aspect-ratio: 16/9; 
    max-height: 65vh; 
    background: #000; 
    border-radius: var(--radius);
    overflow: hidden;
    margin: 0 auto; 
}

/* Panel Defaults */
#playedPanel { flex: 1; min-height: 200px; display: flex; flex-direction: column; }
#requestsPanel { flex: 1; min-height: 150px; display: flex; flex-direction: column; }
#streamPanel { flex: 0 0 auto; display: flex; flex-direction: column; overflow: hidden; }
#leaderboardPanel { height: 280px; flex-shrink: 0; display: flex; flex-direction: column; }
#chatPanelWrapper { flex: 1; min-height: 0; display: flex; flex-direction: column; position: relative; }
#marketplacePanel { flex: 1; display: flex; flex-direction: column; overflow: hidden; min-height: 300px; }

/* --- MARKETPLACE PANEL --- */
.market-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 10px 15px; background: rgba(0, 0, 0, 0.2);
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  flex-wrap: wrap; gap: 10px;
}

.market-tabs-group {
  display: flex; gap: 5px; background: rgba(255, 255, 255, 0.05); padding: 3px; border-radius: 8px;
}
.market-tab {
  background: transparent; border: none; color: var(--text-muted);
  padding: 6px 12px; font-family: "Cinzel", serif; font-size: 12px;
  cursor: pointer; border-radius: 6px; transition: 0.2s;
}
.market-tab.active {
  background: var(--accent); color: #000; font-weight: bold;
  box-shadow: 0 0 10px rgba(213, 123, 255, 0.3);
}

.market-controls-right { display: flex; align-items: center; gap: 10px; flex: 1; justify-content: flex-end; }
.market-search input {
  background: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 6px 10px; border-radius: 999px; color: #fff; font-family: "Marcellus";
  font-size: 13px; width: 140px; transition: 0.2s width;
}
.market-search input:focus { width: 180px; border-color: var(--accent); }

.store-grid-layout {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
  gap: 12px; padding-bottom: 20px;
}

/* ================= CHAT BOTTOM BAR ================= */
#chatBottomBar { 
    padding: 12px; 
    background: rgba(0,0,0,0.3); 
    border-top: 1px solid rgba(255,255,255,0.1); 
    display: flex; flex-direction: column; gap: 12px; 
    position: relative; z-index: 20; 
}

.chat-input-row { display: flex; align-items: center; gap: 10px; width: 100%; }

#dashboardChatForm { flex: 1; }
#dashboardChatInput { 
    width: 100%; padding: 10px 12px; border-radius: 20px; 
    border: 1px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.5); 
    color: #fff; font-family: "Marcellus"; outline: none; font-size: 14px;
}
#dashboardChatInput:focus { border-color: var(--accent); }

.chat-support-buttons { display: flex; gap: 10px; width: 100%; }

.big-action-btn {
    flex: 1; border: none; border-radius: 8px; padding: 10px;
    font-family: "Cinzel", serif; font-size: 14px; font-weight: bold;
    cursor: pointer; text-transform: uppercase; letter-spacing: 1px;
    display: flex; align-items: center; justify-content: center; gap: 8px;
    transition: all 0.2s ease; box-shadow: 0 4px 10px rgba(0,0,0,0.3); color: #000;
}
.big-action-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(0,0,0,0.5); filter: brightness(1.1); }

/* GHOST BUTTON STYLES */
.ghost-tip-btn {
    background: rgba(140, 0, 255, 0.25); border: 1px solid var(--accent); color: #e8baff;
    text-shadow: 0 0 5px rgba(213, 123, 255, 0.5);
}
.ghost-tip-btn:hover { background: rgba(140, 0, 255, 0.4); box-shadow: 0 0 15px rgba(213, 123, 255, 0.3); }

.ghost-sub-btn {
    background: rgba(255, 215, 0, 0.1); border: 1px solid #ffd700; color: #ffd700;
    text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
}
.ghost-sub-btn:hover { background: rgba(255, 215, 0, 0.25); box-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }

/* ================= COMPACT DESKTOP (1080p) ================= */
@media (max-width: 1920px) {
  .grid { 
    grid-template-columns: 350px 1fr 350px; 
    overflow: hidden !important; 
  }
  .col-center { 
    overflow-y: auto !important; padding-right: 5px; scrollbar-width: thin;
  }
  .streamOuter { width: 100% !important; aspect-ratio: 16/9; max-height: 60vh; }
}

/* ================= NEW VIDEO LAYOUT ================= */
.video-layout-wrapper {
    display: grid; grid-template-columns: 420px 1fr; gap: 15px; height: 100%; overflow: hidden;
}
.video-main-column { display: flex; flex-direction: column; gap: 15px; overflow: hidden; }
.video-sidebar { display: flex; flex-direction: column; overflow: hidden; }
.video-sidebar-body { padding: 0; overflow-y: auto; flex: 1; }
.video-list-vertical { display: flex; flex-direction: column; gap: 8px; padding: 10px; }
.video-list-vertical .video-card { flex-direction: row; height: 80px; align-items: center; }
.video-list-vertical .video-card-thumb { width: 120px; height: 100%; aspect-ratio: auto; flex-shrink: 0; }
.video-list-vertical .video-card-body { padding: 8px; justify-content: center; }
.video-list-vertical .video-card-title {
    font-size: 13px; white-space: normal; line-height: 1.2; max-height: 2.4em;
    -webkit-line-clamp: 2; -webkit-box-orient: vertical; display: -webkit-box;
}
.video-player-section { flex: 0 0 auto; display: flex; flex-direction: column; }
.video-container { position: relative; aspect-ratio: 16/9; background: #000; width: 100%; }
.video-container video { width: 100%; height: 100%; outline: none; }
.meta-panel { padding: 15px 20px; border-top: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); }
.meta-tag { display: inline-block; font-size: 10px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--accent); margin-bottom: 6px; }
.meta-title { font-size: 20px; margin: 0 0 6px; line-height: 1.2; color: #fff; }
.meta-date { color: var(--text-muted); font-size: 12px; }
.actions { display: flex; gap: 10px; align-items: center; }
.video-clips-section { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.video-clips-section .panel-body { overflow-y: auto; padding: 15px; }
.video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; }

/* Standard Video Card */
.video-card {
    background: rgba(255,255,255,0.03); border-radius: 8px; overflow: hidden;
    border: 1px solid rgba(255,255,255,0.08); cursor: pointer; transition: transform 0.2s, border-color 0.2s;
    position: relative; display: flex; flex-direction: column;
}
.video-card:hover { transform: translateY(-4px); border-color: var(--accent); background: rgba(255,255,255,0.06); }
.video-card-thumb { aspect-ratio: 16/9; background: #000; position: relative; overflow: hidden; }
.video-card-thumb img { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; transition: opacity 0.2s; }
.video-card:hover .video-card-thumb img { opacity: 1; transform: scale(1.05); }
.video-card-dur {
    position: absolute; bottom: 4px; right: 4px; background: rgba(0,0,0,0.8); padding: 2px 4px;
    border-radius: 4px; font-size: 10px; font-weight: 600; color: #fff;
}
.video-card-body { padding: 8px 10px; flex: 1; display: flex; flex-direction: column; justify-content: center; }
.video-card-title { font-size: 13px; font-weight: 600; color: #fff; margin-bottom: 2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.video-card-date { font-size: 11px; color: var(--text-muted); }
.empty-state { text-align: center; padding: 40px; color: var(--text-muted); font-style: italic; }

/* ================= POPUPS / MENUS ================= */
#loginPopup {
  position: absolute; top: 50px; left: 0; width: 260px;
  background: rgba(15, 0, 25, 0.98); border: 1px solid var(--accent);
  border-radius: 12px; padding: 15px; box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px); display: none; flex-direction: column; gap: 10px;
}
#loginPopup.open { display: flex; }
.loginOption {
  display: flex; align-items: center; gap: 12px; padding: 10px;
  background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;
  transition: 0.2s; font-size: 14px; color: #fff;
}
.loginOption:hover { background: rgba(255, 255, 255, 0.1); border: 1px solid var(--accent); }
.loginOption img { width: 24px; height: 24px; object-fit: contain; }

#userMenu {
  display: none; position: absolute; top: 90px; left: 40px; width: 280px;
  background: rgba(15, 0, 25, 0.98); padding: 20px; border-radius: 14px;
  border: 1px solid rgba(255, 150, 255, 0.3); z-index: 6000;
  box-shadow: 0 0 30px rgba(140, 40, 220, 0.6), 0 0 10px rgba(255, 255, 255, 0.1) inset;
  backdrop-filter: blur(12px);
}
#userMenu h3 {
  margin: 0 0 12px 0; font-size: 16px; color: #fff; border-bottom: 1px solid rgba(255,255,255,0.15); padding-bottom: 8px;
}
.nexusProfileField { display: block; margin-bottom: 12px; }
.nexusProfileLabel { display: block; font-size: 10px; color: var(--text-muted); margin-bottom: 4px; }
.nexusProfileInput {
  width: 100%; box-sizing: border-box; padding: 8px 10px; border-radius: 4px; 
  border: 1px solid rgba(255, 150, 255, 0.3); background: rgba(0, 0, 0, 0.6); 
  color: #fff; font-family: "Marcellus", serif; font-size: 14px; font-weight: 600; outline: none;
}
.nexusProfileInput:focus { border-color: var(--accent); }
.nexusColorFieldInner {
  display: flex; align-items: center; justify-content: space-between;
  background: rgba(0, 0, 0, 0.6); padding: 6px 10px; border-radius: 6px;
  border: 1px solid rgba(255, 150, 255, 0.3); cursor: pointer; position: relative;
}
.nexusColorSwatch { width: 24px; height: 24px; border-radius: 50%; border: 2px solid #fff; }
.nexusColorCode { font-family: monospace; font-size: 12px; color: #fff; opacity: 0.8; }
#nexusProfileColorInput { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer; }
#nexusProfileSaveBtn {
  width: 100%; margin-top: 4px; margin-bottom: 16px;
  background: rgba(60, 20, 90, 0.8); border: 1px solid var(--accent); color: #fff;
  padding: 8px; border-radius: 999px; cursor: pointer; font-family: "Cinzel", serif;
}
#nexusProfileSaveBtn:hover { background: var(--accent); }
.platformRow { display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-top: 1px solid rgba(255,255,255,0.1); }
.platformLeft { display: flex; align-items: center; gap: 10px; font-size: 13px; }
.platformIcon, .crystal-icon, #redeemChip img, .lbCrystal, .ttsCostCrystal, .redeemCost img, #redeemDrawer img { 
  width: 20px !important; height: 20px !important; max-width: 20px !important; object-fit: contain; vertical-align: middle;
}
.platformBtn { font-size: 11px; padding: 4px 10px; border-radius: 4px; border: 1px solid rgba(255,100,100,0.5); color: #ffcccc; background: rgba(50,0,0,0.3); }
.logout { margin-top: 12px; text-align: center; padding: 10px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.2); color: var(--text-muted); cursor: pointer; }

/* Panel Styles */
.panel {
  background: var(--panel-bg); border-radius: 10px; border: 1px solid var(--panel-border);
  box-shadow: 0 0 20px rgba(140,0,200,0.2); overflow: hidden;
}
.panel-header {
  padding: 6px 10px; font-size: 14px; font-weight: 700;
  background: rgba(255,255,255,0.12); border-bottom: 1px solid rgba(255,255,255,0.07);
}
.panel-body { padding: 12px 16px; font-size: 14px; flex: 1; min-height: 0; overflow-y: auto; }

/* Stream & Games */
.stream-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
#streamTitleLabel { 
    font-size: 15px; font-weight: 600; color: var(--bright-1); 
    flex: 1; min-width: 0; white-space: nowrap; 
}
.streamTitleControls { display: flex; align-items: center; gap: 8px; }
#streamTitleInput { padding: 4px 8px; border-radius: 999px; background: rgba(10,0,25,0.85); border: 1px solid rgba(255,150,255,0.35); color: #fff; font-family: "Marcellus"; }
.stream-body { padding: 0; display: flex; flex-direction: column; overflow: hidden; }
.streamOuter { width: 100%; aspect-ratio: 16/9; background: #000; position: relative; flex-shrink: 0; }
.streamOuter iframe { width: 100%; height: 100%; border: 0; position: absolute; inset: 0; }
.streamControlBtn { padding: 4px 10px; border-radius: 999px; border: 1px solid rgba(255,150,255,0.5); font-size: 10px; background: rgba(20,0,30,0.9); color: #fff; cursor: pointer; }
.streamControlBtn:hover { background: rgba(255,255,255,0.16); }

#playedPanel .panel-header { display: flex; justify-content: space-between; align-items: center; }
.games-search-wrapper input { padding: 4px 8px; border-radius: 999px; background: rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.2); color: #fff; font-family: "Marcellus"; width: 100px; }
.games-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 12px; }
.game-card { background: rgba(10,0,25,0.9); border-radius: 8px; overflow: hidden; border: 1px solid rgba(255,255,255,0.08); cursor: pointer; transition: 0.2s; }
.game-card:hover { transform: translateY(-2px); border-color: var(--accent); }
.game-thumb { width: 100%; aspect-ratio: 2/3; }
.game-thumb img { width: 100%; height: 100%; object-fit: cover; }
.game-card.current-game { border-color: var(--bright-1); box-shadow: 0 0 15px rgba(180,80,255,0.5); }
#recommendations { font-size: 13px; }

.lbRow {
  display: flex; align-items: center; justify-content: space-between;
  padding: 8px 12px; margin: 4px 0; border-radius: 8px;
  background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.06);
}
.lbPos { width: 20px; font-weight: bold; font-size: 14px; }
.lbName { flex: 1; font-size: 14px; }
.lbRight { display: flex; align-items: center; gap: 6px; font-size: 13px; }
.lbRow.gold { background: linear-gradient(90deg, rgba(255,215,0,0.2), rgba(0,0,0,0)); border-left: 3px solid #ffd700; border-top: 1px solid rgba(255,215,0,0.4); }
.lbRow.gold .lbPos { color: #ffd700; text-shadow: 0 0 5px rgba(255,215,0,0.5); }
.lbRow.silver { background: linear-gradient(90deg, rgba(192,192,192,0.2), rgba(0,0,0,0)); border-left: 3px solid #c0c0c0; border-top: 1px solid rgba(192,192,192,0.4); }
.lbRow.silver .lbPos { color: #c0c0c0; text-shadow: 0 0 5px rgba(192,192,192,0.5); }
.lbRow.bronze { background: linear-gradient(90deg, rgba(205,127,50,0.2), rgba(0,0,0,0)); border-left: 3px solid #cd7f32; border-top: 1px solid rgba(205,127,50,0.4); }
.lbRow.bronze .lbPos { color: #cd7f32; text-shadow: 0 0 5px rgba(205,127,50,0.5); }

#chatPanelWrapper .panel-header { display: flex; justify-content: space-between; }
#chatPanel { flex: 1; padding: 10px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
.chatMsg {
  display: flex; gap: 12px; padding: 6px 10px 6px 6px; border-radius: 4px;
  transition: background 0.2s; position: relative;
  background: rgba(255, 255, 255, 0.02); border-left: 3px solid transparent; padding-right: 28px;
}
.chatMsg:hover { background: rgba(255, 255, 255, 0.05); }
.chatMenuBtn {
  position: absolute; top: 6px; right: 6px; width: 20px; height: 20px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; color: rgba(255, 255, 255, 0.4); font-weight: bold; font-size: 16px;
  border-radius: 4px; user-select: none; z-index: 5; line-height: 0;
}
.chatMenuBtn:hover { background: rgba(255, 255, 255, 0.1); color: #fff; }
.chatAvatarCol { flex-shrink: 0; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 2px; }
.chatAvatarImg { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; background: rgba(0,0,0,0.3); }
.chatContentCol { flex: 1; display: flex; flex-direction: column; justify-content: center; min-width: 0; }
.chatHeader { display: flex; align-items: baseline; gap: 8px; margin-bottom: 2px; line-height: 1.2; }
.chatUsername { font-family: "Cinzel", serif; font-weight: 700; font-size: 13px; color: #fff; }
.chatPronouns { font-family: "Marcellus", serif; font-size: 10px; color: rgba(255,255,255,0.4); text-transform: uppercase; letter-spacing: 0.5px; }
.chatText { font-family: "Marcellus", serif; font-size: 14px; color: #e0d0e0; line-height: 1.4; word-wrap: break-word; }
.chatMsg.twitch { border-left-color: #9146ff; background: linear-gradient(90deg, rgba(145, 70, 255, 0.05), transparent); }
.chatMsg.twitch .chatAvatarImg { border: 1px solid #9146ff; padding: 2px; }
.chatMsg.twitch .chatUsername { color: #caa0ff; }
.chatMsg.youtube { border-left-color: #ff0000; background: linear-gradient(90deg, rgba(255, 0, 0, 0.05), transparent); }
.chatMsg.youtube .chatAvatarImg { border: 1px solid #ff0000; padding: 2px; }
.chatMsg.youtube .chatUsername { color: #ff9999; }
.chatMsg.nexus {
  background: linear-gradient(135deg, rgba(60, 20, 90, 0.6), rgba(20, 0, 30, 0.6));
  border: 1px solid rgba(213, 123, 255, 0.3); border-left: 3px solid var(--accent);
  box-shadow: 0 4px 15px rgba(0,0,0,0.3); padding: 10px 12px; align-items: flex-start;
}
.chatMsg.nexus .chatAvatarCol { width: 50px; }
.chatMsg.nexus .chatAvatarImg { width: 48px; height: 48px; border: 2px solid var(--accent); box-shadow: 0 0 10px rgba(213, 123, 255, 0.4); }
.chatMsg.nexus .chatUsername { font-size: 15px; color: var(--accent); text-shadow: 0 0 8px rgba(213, 123, 255, 0.5); }
.chatMsg.nexus .chatText { color: #fff; font-size: 15px; }

.chatMsg.support-event {
    border: 1px solid #ffd700;
    background: linear-gradient(90deg, rgba(255, 215, 0, 0.05), rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.05));
    background-size: 200% 100%;
    animation: goldShimmer 3s infinite linear;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.1);
    align-items: center; flex-direction: column;
}
@keyframes goldShimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
.chatMsg.mentioned { border-left: 3px solid #b972ff; background: rgba(185, 114, 255, 0.15); }

/* --- STORE & DECORATIONS --- */
.store-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px; max-height: 400px; overflow-y: auto; margin-bottom: 15px;
}
.store-card {
    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px; padding: 10px; text-align: center; display: flex;
    flex-direction: column; justify-content: space-between; transition: 0.2s;
}
.store-card:hover { border-color: var(--accent); background: rgba(255,255,255,0.08); }
.store-card-preview { width: 60px; height: 60px; border-radius: 50%; margin: 0 auto 10px; background-color: #333; }
.store-card-name { font-size: 13px; font-weight: bold; color: #fff; margin-bottom: 4px; }
.store-card-cost { font-size: 12px; color: var(--accent); margin-bottom: 8px; }
.store-btn {
    width: 100%; padding: 6px; border-radius: 4px; border: 1px solid var(--accent);
    background: rgba(60, 20, 90, 0.5); color: #fff; cursor: pointer;
    font-size: 11px; font-family: "Cinzel", serif; text-transform: uppercase;
}
.store-btn:hover { background: var(--accent); color: #000; }
.store-btn.owned { border-color: #fff; background: rgba(255,255,255,0.1); color: #ccc; }
.store-btn.equipped { border-color: var(--success); background: var(--success); color: #000; font-weight: bold; cursor: default; }
.store-btn.locked {
    background: transparent; border: 1px dashed rgba(255, 215, 0, 0.5);
    color: #ffe680; cursor: pointer; font-size: 10px; letter-spacing: 0.5px;
}
.store-btn.locked:hover { background: rgba(255, 215, 0, 0.1); border-color: #ffd700; color: #fff; }

.avatar, .chatAvatarImg { transition: all 0.3s ease; box-sizing: border-box; border-radius: 50%; }
.deco-pulse { box-shadow: 0 0 0 2px var(--accent); animation: pulseGlow 3s infinite ease-in-out; animation-delay: var(--anim-delay, 0s); }
@keyframes pulseGlow { 0% { box-shadow: 0 0 0 2px var(--accent), 0 0 10px var(--accent); } 50% { box-shadow: 0 0 0 4px var(--accent), 0 0 20px var(--accent); } 100% { box-shadow: 0 0 0 2px var(--accent), 0 0 10px var(--accent); } }
.deco-gold { border: 3px solid #ffd700; box-shadow: 0 0 15px rgba(255, 215, 0, 0.6), inset 0 0 10px rgba(255, 215, 0, 0.4); position: relative; overflow: visible !important; }
.deco-gold::after { content: "ðŸ‘‘"; position: absolute; top: -14px; right: -8px; font-size: 18px; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.8)); animation: floatCrown 3s ease-in-out infinite; animation-delay: var(--anim-delay, 0s); z-index: 10; }
@keyframes floatCrown { 0%, 100% { transform: translateY(0) rotate(10deg); } 50% { transform: translateY(-4px) rotate(10deg); } }
.deco-orbit { border: none !important; box-shadow: none !important; position: relative; overflow: visible !important; }
.deco-orbit::before { content: ""; position: absolute; inset: -6px; border-radius: 50%; border: 2px dashed #00ffea; border-top-color: transparent; border-left-color: transparent; animation: spinOrbit 4s linear infinite; animation-delay: var(--anim-delay, 0s); z-index: 1; pointer-events: none; }
.deco-orbit::after { content: ""; position: absolute; inset: -6px; border-radius: 50%; border: 1px solid rgba(0, 255, 234, 0.2); box-shadow: 0 0 15px rgba(0, 255, 234, 0.3); z-index: 0; pointer-events: none; }
@keyframes spinOrbit { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.deco-ethereal { box-shadow: -2px -2px 10px #ff00de, 2px 2px 10px #00ffea; animation: etherealShift 4s ease infinite alternate; animation-delay: var(--anim-delay, 0s); }
@keyframes etherealShift { 0% { box-shadow: -4px -4px 15px #ff00de, 4px 4px 15px #00ffea; } 100% { box-shadow: 4px 4px 15px #ff00de, -4px -4px 15px #00ffea; } }
.deco-glitch { position: relative; box-shadow: 2px 0 rgba(255,0,0,0.5), -2px 0 rgba(0,255,255,0.5); animation: glitchAnim 2s infinite steps(10); animation-delay: var(--anim-delay, 0s); }
@keyframes glitchAnim { 0% { transform: translate(0,0); } 20% { transform: translate(-2px, 1px); } 40% { transform: translate(2px, -1px); } 60% { transform: translate(0, 0); } 80% { transform: translate(-1px, -2px); } 100% { transform: translate(0, 0); } }

.chatBadge {
    height: 18px; width: auto; margin-right: 6px; vertical-align: middle;
    filter: drop-shadow(0 0 4px rgba(255,255,255,0.3)); display: inline-block;
}

/* Chat Borders (Tiers) */
.chatMsg.border_t1 {
    border: 1px solid rgba(185, 114, 255, 0.4);
    background: linear-gradient(90deg, rgba(185, 114, 255, 0.08), transparent);
    box-shadow: inset 2px 0 0 #b972ff; transition: all 0.3s ease;
}
.chatMsg.border_t1:hover { background: linear-gradient(90deg, rgba(185, 114, 255, 0.15), transparent); box-shadow: inset 2px 0 10px rgba(185, 114, 255, 0.4); border-color: #b972ff; }

.chatMsg.border_t2 {
    border: 1px solid rgba(0, 191, 255, 0.4);
    background: linear-gradient(90deg, rgba(0, 191, 255, 0.08), transparent);
    box-shadow: inset 2px 0 0 #00bfff; position: relative;
}
.chatMsg.border_t2::after { content: "â—ˆ"; position: absolute; top: 2px; right: 4px; color: #00bfff; font-size: 10px; opacity: 0.7; }
.chatMsg.border_t2:hover { background: linear-gradient(90deg, rgba(0, 191, 255, 0.15), transparent); border-color: #00bfff; box-shadow: inset 2px 0 15px rgba(0, 191, 255, 0.3); }

.chatMsg.border_t3 {
    border: 1px solid rgba(0, 255, 157, 0.4);
    background: linear-gradient(90deg, rgba(0, 255, 157, 0.08), transparent);
    box-shadow: inset 2px 0 0 #00ff9d; position: relative; overflow: hidden; 
}
.chatMsg.border_t3::before {
    content: ""; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 255, 157, 0.1), transparent);
    transform: skewX(-20deg); animation: archonShine 6s infinite; pointer-events: none;
}
@keyframes archonShine { 0%, 80% { left: -100%; } 100% { left: 200%; } }
.chatMsg.border_t3:hover { background: linear-gradient(90deg, rgba(0, 255, 157, 0.15), transparent); border-color: #00ff9d; box-shadow: 0 0 15px rgba(0, 255, 157, 0.15), inset 2px 0 0 #00ff9d; }

#dashboardChatInput:disabled { background: rgba(40, 0, 10, 0.6); border-color: rgba(255, 100, 100, 0.4); color: #ffcccc; cursor: not-allowed; font-style: italic; text-align: center; }
#dashboardChatInput.locked { background: rgba(50, 0, 0, 0.5); border-color: #ff4444; color: #ffcccc; font-style: italic; cursor: not-allowed; }
#dashboardChatInput.locked::placeholder { color: #ff9999; }

#unbanAppealLink { display: none; margin-top: 5px; }
#redeemChip { height: 32px; padding: 0 10px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 6px; border: 1px solid var(--accent); background: rgba(40,0,60,0.5); border-radius: 999px; font-size: 12px; white-space: nowrap; transition: 0.2s; }
#redeemChip:hover { background: var(--accent); color: #000; }
#redeemDrawer { position: absolute; bottom: 60px; left: 10px; right: 10px; height: 320px; z-index: 50; display: flex; flex-direction: column; transform-origin: bottom left; transform: scale(0.9) translateY(20px); opacity: 0; pointer-events: none; transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
#redeemDrawer.open { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; }
#redeemDrawerInner { flex: 1; padding: 15px; overflow-y: auto; background: rgba(15, 0, 25, 0.98); border: 1px solid var(--accent); border-radius: 12px; box-shadow: 0 0 30px rgba(0,0,0,0.9); backdrop-filter: blur(10px); }
.ttsHeaderRow { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.ttsTitle { font-family: "Cinzel", serif; font-weight: bold; color: var(--accent); }
.ttsCostRow { display: flex; align-items: center; gap: 4px; font-size: 13px; color: #fff; }
#ttsRedeemInput { width: 100%; box-sizing: border-box; background: rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 8px; border-radius: 6px; font-family: "Marcellus"; font-size: 14px; resize: none; outline: none; margin-bottom: 8px; }
#ttsRedeemInput:focus { border-color: var(--accent); }
.ttsFooterRow { display: flex; justify-content: flex-end; }
.redeemDrawerDivider { height: 1px; background: rgba(255,255,255,0.1); margin: 15px 0; }
#redeemContent { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 0 4px 10px 4px; }
.redeemCard { background: rgba(20, 10, 30, 0.6); border: 1px solid rgba(159, 108, 255, 0.2); border-radius: 8px; padding: 8px 10px; display: flex; flex-direction: column; justify-content: space-between; min-height: 80px; transition: all 0.2s ease; margin-bottom: 0; }
.redeemCard:hover { background: rgba(159, 108, 255, 0.1); border-color: rgba(159, 108, 255, 0.5); transform: translateY(-2px); }
.redeemName { font-family: 'Cinzel', serif; font-weight: 700; font-size: 13px; color: #e9d9ff; margin-bottom: 2px; line-height: 1.2; }
.redeemDescription { font-size: 11px; color: #aaa; line-height: 1.25; margin-bottom: 8px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.redeemMeta { display: flex; align-items: center; justify-content: space-between; margin-top: auto; width: 100%; }
.redeemCost { font-family: 'Cinzel', serif; font-size: 12px; color: var(--accent); display: flex; align-items: center; gap: 4px; }
.redeemUseBtn { padding: 2px 8px; font-size: 11px; min-width: auto; }

.context-menu { position: absolute; display: none; background: rgba(10, 0, 20, 0.95); border: 1px solid var(--accent); box-shadow: 0 0 15px rgba(0,0,0,0.8); border-radius: 6px; z-index: 10000; min-width: 140px; backdrop-filter: blur(5px); overflow: hidden; }
.ctx-header { padding: 8px 12px; background: rgba(255,255,255,0.1); font-size: 11px; color: var(--text-muted); text-transform: uppercase; border-bottom: 1px solid rgba(255,255,255,0.1); pointer-events: none; }
.ctx-item { padding: 8px 12px; font-size: 13px; color: #fff; cursor: pointer; transition: background 0.1s; }
.ctx-item:hover { background: var(--accent); color: #000; }

.requestModal { position: fixed; inset: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); display: none; align-items: center; justify-content: center; z-index: 9999; }
.requestModal.open { display: flex; }
.requestModalWindow { background: var(--mod-glass-bg); border: 1px solid var(--mod-glass-border); box-shadow: var(--mod-glass-shadow); border-radius: 14px; padding: 20px; width: 90%; max-width: 420px; color: #f7eaff; box-sizing: border-box; }
.requestModalWindow h3 { font-family: "Cinzel", serif; font-size: 20px; text-transform: uppercase; letter-spacing: 0.12em; color: var(--accent); text-shadow: 0 0 8px var(--accent-glow); text-align: center; margin-top: 0; margin-bottom: 15px; }
.requestModalWindow input[type="text"], .requestModalWindow input[type="number"], .requestModalWindow textarea { background: rgba(0,0,0,0.55); border: 1px solid rgba(255,150,255,0.3); border-radius: 9px; padding: 8px 10px; color: #fff; font-family: "Marcellus", serif; font-size: 14px; outline: none; width: 100%; box-sizing: border-box; margin-bottom: 10px; transition: 0.2s ease-out; }
.requestModalWindow input:focus, .requestModalWindow textarea:focus { border-color: var(--accent); box-shadow: 0 0 10px rgba(197, 140, 255, 0.4); }
.requestModalButtons { display: flex; gap: 10px; justify-content: center; margin-top: 15px; }
.requestModalButtons button, .modActionButtons button { flex: 1; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,150,255,0.4); border-radius: 10px; color: var(--accent); padding: 8px 16px; font-family: "Cinzel", serif; font-size: 13px; text-transform: uppercase; letter-spacing: 0.12em; cursor: pointer; transition: 0.18s ease-out; }
.requestModalButtons button:hover, .modActionButtons button:hover { background: rgba(255,255,255,0.16); box-shadow: 0 0 12px rgba(197, 140, 255, 0.65); transform: translateY(-1px); }
.requestModalButtons button.destructive-btn { border-color: #ff4444; color: #ff4444; background: rgba(50, 0, 0, 0.6); }
.requestModalButtons button.destructive-btn:hover { background: rgba(100, 0, 0, 0.8); box-shadow: 0 0 12px rgba(255, 75, 145, 0.5); }

#timeoutInfoBody { display: flex; flex-direction: column; align-items: center; gap: 12px; }
.modal-content-wrapper { display: flex; flex-direction: column; align-items: center; gap: 8px; text-align: center; }
.modal-icon { font-size: 32px; margin-bottom: 4px; filter: drop-shadow(0 0 10px rgba(255,255,255,0.2)); }
.modal-icon.danger { filter: drop-shadow(0 0 15px var(--danger)); }
.modal-icon.warning { filter: drop-shadow(0 0 15px var(--warning)); }
.modal-icon.success { filter: drop-shadow(0 0 15px var(--success)); }
.modal-title { font-family: "Cinzel", serif; font-size: 24px; letter-spacing: 0.1em; text-transform: uppercase; margin: 0; }
.modal-title.danger { color: var(--danger); text-shadow: 0 0 15px rgba(255, 75, 145, 0.6); }
.modal-title.warning { color: var(--warning); text-shadow: 0 0 15px rgba(255, 216, 107, 0.6); }
.modal-title.success { color: var(--success); text-shadow: 0 0 15px rgba(114, 255, 176, 0.6); }
.modal-text { font-family: "Marcellus", serif; font-size: 16px; color: #fff; margin: 0; line-height: 1.4; }
.modal-subtext { font-family: "Marcellus", serif; font-size: 13px; color: var(--text-muted); margin-top: 4px; font-style: italic; opacity: 0.8; }

.panelSmallBtn { font-family: "Cinzel"; background: rgba(255,255,255,0.1); color: var(--accent); padding: 4px 10px; border: 1px solid rgba(255,255,255,0.3); border-radius: 999px; cursor: pointer; }
.panelSmallBtn:hover { background: rgba(255,255,255,0.2); }
.duration-buttons { display: flex; gap: 8px; align-items: center; justify-content: center; margin-bottom: 8px; }
.durationBtn.selected { background: var(--accent); color: #000; border-color: #fff; }
.destructive-btn { background: rgba(100, 0, 0, 0.6); border: 1px solid #ff4444; color: #ffcccc; }
.destructive-btn:hover { background: #ff0000; color: #fff; }

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 3px; }
::-webkit-scrollbar-track { background: rgba(0,0,0,0.3); }

.site-footer { flex-shrink: 0; margin-top: 10px; display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: var(--text-muted); height: 30px; }
.site-footer-links a { color: var(--text-muted); text-decoration: none; transition: color 0.2s; }
.site-footer-links a:hover { color: var(--accent); }

.userMenuRow { display: flex; align-items: center; gap: 10px; padding: 8px 0; cursor: pointer; transition: color 0.2s; color: #fff; }
.userMenuRow:hover { color: var(--accent); }
.menuIcon { width: 18px; height: 18px; object-fit: contain; }

/* CONFIRM MODAL */
#confirmModal { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); z-index: 100000; display: flex; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity 0.2s ease; }
#confirmModal.open { opacity: 1; pointer-events: auto; }
.confirm-window { background: var(--mod-glass-bg); border: 1px solid var(--accent); box-shadow: 0 0 40px rgba(140, 0, 200, 0.6); border-radius: 12px; padding: 25px; width: 90%; max-width: 400px; text-align: center; transform: scale(0.9); transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); }
#confirmModal.open .confirm-window { transform: scale(1); }
.confirm-title { font-family: "Cinzel", serif; font-size: 22px; color: var(--accent); margin-bottom: 15px; text-shadow: 0 0 10px rgba(213, 123, 255, 0.4); }
.confirm-message { font-family: "Marcellus", serif; font-size: 16px; color: #fff; margin-bottom: 25px; line-height: 1.5; }
.confirm-actions { display: flex; gap: 15px; justify-content: center; }
.confirm-btn { padding: 10px 24px; border-radius: 8px; font-family: "Cinzel", serif; font-size: 14px; cursor: pointer; transition: 0.2s; border: 1px solid transparent; }
.confirm-btn.confirm-yes { background: var(--accent); color: #000; font-weight: bold; box-shadow: 0 0 15px rgba(213, 123, 255, 0.4); }
.confirm-btn.confirm-yes:hover { background: #fff; box-shadow: 0 0 25px rgba(213, 123, 255, 0.8); }
.confirm-btn.confirm-no { background: transparent; border: 1px solid rgba(255, 255, 255, 0.3); color: #ccc; }
.confirm-btn.confirm-no:hover { border-color: #fff; color: #fff; background: rgba(255, 255, 255, 0.1); }

.modal-close-btn {
    position: absolute; top: 15px; right: 15px; background: transparent; border: none;
    color: rgba(255, 255, 255, 0.4); font-size: 24px; cursor: pointer; line-height: 1;
    z-index: 10; padding: 0; transition: all 0.2s ease;
}
.modal-close-btn:hover { color: #fff; transform: scale(1.1); text-shadow: 0 0 8px rgba(255,255,255,0.5); }

/* ================= CHAT OVERLAY/POPUP STYLES ================= */
#chatPanelWrapper { position: relative; }
.chat-overlay {
    position: absolute; inset: 0; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(3px); z-index: 1000;
    display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.2s ease;
}
.chat-overlay.open { opacity: 1; pointer-events: auto; }
.chat-card {
    width: 90%; max-width: 340px; background: rgba(15, 5, 25, 0.98); border: 1px solid var(--accent);
    border-radius: 12px; padding: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.8); display: flex; flex-direction: column;
    height: auto; max-height: 90%; overflow-y: auto; animation: popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
@keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.chat-card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.1); }
.chat-card-header h3 { margin: 0; font-family: 'Cinzel', serif; color: var(--accent); font-size: 16px; text-shadow: 0 0 10px rgba(213, 123, 255, 0.3); }
.modal-close-btn-embedded { background: none; border: none; color: #888; font-size: 20px; cursor: pointer; padding: 0; line-height: 1; }
.modal-close-btn-embedded:hover { color: #fff; }
.carousel-stage { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
.tier-card-active { flex: 1; display: flex; flex-direction: column; align-items: center; text-align: center; }
.tier-icon-area img { width: 50px; height: 50px; filter: drop-shadow(0 0 8px var(--accent)); margin-bottom: 5px; }
#carouselTitle { font-size: 18px; margin: 5px 0; color: #fff; }
.carousel-price { font-size: 16px; color: var(--accent); font-weight: bold; margin-bottom: 10px; }
.benefits-list { margin: 0 0 15px 0; font-size: 12px; text-align: left; width: 100%; padding-left: 10px; }
.benefits-list li { margin-bottom: 4px; }
.tip-input-group { display: flex; gap: 8px; margin-bottom: 10px; }
.tip-preset {
    flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2);
    color: #fff; padding: 8px 0; border-radius: 6px; cursor: pointer; font-family: "Marcellus"; font-size: 13px; transition: 0.2s;
}
.tip-preset:hover { border-color: var(--accent); background: rgba(255,255,255,0.1); }
.tip-preset.active { background: var(--accent); color: #000; border-color: var(--accent); font-weight: bold; }
.tip-custom-input { width: 80px; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: #fff; padding: 8px; text-align: center; font-family: "Marcellus"; }
.tip-custom-input:focus { border-color: var(--accent); outline: none; }
#tipCardElement { background: rgba(0,0,0,0.2); padding: 10px; border-radius: 6px; margin-bottom: 10px; min-height: 40px; }
.nav-arrow { font-size: 20px; color: var(--text-muted); cursor: pointer; background: none; border: none; padding: 0 10px; }
.nav-arrow:hover { color: #fff; }
.carousel-dots { display: flex; justify-content: center; gap: 6px; }
.dot { width: 6px; height: 6px; background: rgba(255,255,255,0.2); border-radius: 50%; cursor: pointer; }
.dot.active { background: var(--accent); box-shadow: 0 0 4px var(--accent); }
.preview-box { width: 100%; background: rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 8px; margin-bottom: 15px; text-align: left; }
.preview-label { font-size: 10px; color: var(--text-muted); text-transform: uppercase; margin-bottom: 5px; }
#carouselMsgPreview { margin: 0; pointer-events: none; }
.cta-button {
    background: var(--accent); color: #000; border: none; padding: 8px 20px; border-radius: 20px;
    font-weight: bold; font-family: 'Cinzel', serif; cursor: pointer; width: 100%;
    box-shadow: 0 0 15px rgba(213, 123, 255, 0.3); transition: 0.2s;
}
.cta-button:hover { background: #fff; box-shadow: 0 0 20px rgba(213, 123, 255, 0.6); }

/* ================= THEMES ================= */
[data-theme="light"] {
    --bg: #e0e5ec; --text: #1a1a1a; --text-muted: #555;
    --panel-bg: rgba(255, 255, 255, 0.75); --panel-border: rgba(0, 0, 0, 0.1);
    --accent: #9d4eff; --accent-glow: rgba(157, 78, 255, 0.2);
}
[data-theme="light"] .chatMsg { color: #1a1a1a; border-color: rgba(0,0,0,0.1); background: rgba(255,255,255,0.5); }
[data-theme="light"] .chatUsername { text-shadow: none; font-weight: 800; }
[data-theme="oled"] { --bg: #000000; --panel-bg: #000000; --panel-border: #333; backdrop-filter: none !important; }
[data-theme="vapor"] {
    --bg: linear-gradient(180deg, #2b0f36 0%, #1a0821 100%);
    --panel-bg: rgba(43, 15, 54, 0.6); --panel-border: #ff71ce; --accent: #01cdfe; --text: #fffbe6;
}

/* ================= DECORATIONS ================= */
body.hide-decorations .chatAvatarImg, body.hide-decorations .avatar {
    box-shadow: none !important; border: none !important; animation: none !important;
    border-radius: 50% !important; background-image: none !important; padding: 0 !important;
}
body.hide-decorations .chatMsg {
    border: 1px solid rgba(255,255,255,0.1) !important; border-left: 3px solid rgba(255,255,255,0.2) !important;
    background: rgba(255,255,255,0.05) !important; box-shadow: none !important; animation: none !important;
}
body.hide-decorations .chatMsg.twitch { border-left-color: #9146ff !important; }
body.hide-decorations .chatMsg.youtube { border-left-color: #ff0000 !important; }

/* ================= VIDEO HUB (GAME FIRST) ================= */

/* 1. Hub Container */
.video-hub-container {
    padding: 20px; height: 100%; overflow-y: auto;
    display: flex; flex-direction: column; gap: 20px;
}

/* 2. Games Grid (Home View) */
.hub-games-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 20px;
}
.hub-game-card {
    background: rgba(0,0,0,0.3); border-radius: 12px; overflow: hidden;
    border: 1px solid rgba(255,255,255,0.1); cursor: pointer;
    transition: transform 0.2s, border-color 0.2s, box-shadow 0.2s;
    position: relative; aspect-ratio: 2/3;
}
.hub-game-card:hover {
    transform: translateY(-5px); border-color: var(--accent);
    box-shadow: 0 10px 30px rgba(180, 80, 255, 0.2);
}
.hub-game-card img { width: 100%; height: 100%; object-fit: cover; }
.hub-game-title {
    position: absolute; bottom: 0; left: 0; right: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.95), transparent);
    padding: 30px 10px 10px; color: #fff; font-size: 13px; font-weight: bold;
    text-align: center; opacity: 0; transition: 0.2s; pointer-events: none;
}
.hub-game-card:hover .hub-game-title { opacity: 1; }

/* 3. Game Details View (Drill Down) */
.game-hero {
    display: flex; gap: 25px; align-items: flex-end; padding: 30px;
    background: linear-gradient(90deg, rgba(20,0,40,0.8), rgba(20,0,40,0.3));
    border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);
    position: relative; overflow: hidden;
}
.game-hero-bg {
    position: absolute; inset: 0; opacity: 0.1; filter: blur(20px); z-index: 0;
    background-size: cover; background-position: center;
}
.game-hero-content { position: relative; z-index: 1; display: flex; gap: 25px; align-items: flex-end; width: 100%; }
.game-hero-cover {
    width: 140px; aspect-ratio: 2/3; border-radius: 8px; object-fit: cover;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.2);
}
.game-hero-info { flex: 1; }
.game-hero-title { font-family: "Cinzel", serif; font-size: 32px; color: #fff; margin: 0 0 10px; text-shadow: 0 0 15px var(--accent); }
.game-hero-stats { font-family: "Marcellus"; font-size: 14px; color: var(--text-muted); display: flex; gap: 15px; }
.game-hero-stat { display: flex; align-items: center; gap: 6px; }
.hub-back-btn {
    background: rgba(255,255,255,0.1); border: none; color: #fff;
    padding: 8px 16px; border-radius: 6px; cursor: pointer; font-family: "Cinzel";
    display: flex; align-items: center; gap: 6px; transition: 0.2s;
    position: absolute; top: 20px; right: 20px; z-index: 2;
}
.hub-back-btn:hover { background: var(--accent); color: #000; }

/* 4. Sub Tabs */
.hub-tabs { display: flex; gap: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 20px; }
.hub-tab {
    background: none; border: none; padding: 10px 0; font-family: "Cinzel";
    font-size: 14px; color: var(--text-muted); cursor: pointer; position: relative;
    transition: 0.2s;
}
.hub-tab:hover { color: #fff; }
.hub-tab.active { color: var(--accent); font-weight: bold; }
.hub-tab.active::after {
    content: ""; position: absolute; bottom: -1px; left: 0; width: 100%;
    height: 2px; background: var(--accent); box-shadow: 0 0 10px var(--accent);
}

/* ================= DESKTOP-ONLY OVERRIDES ================= */
/* Ensure Mobile Elements are Hidden on Desktop */
#mobileHeader, #mobileNav { display: none !important; }

/* --- NEW: YOUTUBE & EDIT BADGES --- */
.provider-badge {
    position: absolute; top: 6px; right: 6px;
    background: #ff0000; color: #fff;
    font-size: 10px; font-weight: bold;
    padding: 2px 6px; border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.5);
    z-index: 5; text-transform: uppercase;
    display: flex; align-items: center; gap: 4px;
}
.provider-badge::before { content: "â–¶"; font-size: 8px; }

.vod-edit-btn {
    position: absolute; top: 6px; left: 6px;
    background: rgba(0,0,0,0.8); color: #fff;
    font-size: 10px; padding: 4px 8px;
    border-radius: 4px; cursor: pointer;
    border: 1px solid rgba(255,255,255,0.2);
    z-index: 5; display: none; /* Hidden by default, shown for mods */
}
.vod-edit-btn:hover { background: var(--accent); color: #000; border-color: var(--accent); }
body.is-mod .vod-edit-btn { display: block; } /* Only show for mods */